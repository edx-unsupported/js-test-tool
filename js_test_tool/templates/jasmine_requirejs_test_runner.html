<!DOCTYPE html>
<html>
<head>
  <title>Jasmine-RequireJS Spec Runner</title>

  <link rel="stylesheet" type="text/css" href="/runner/jasmine_requirejs/jasmine.css">
  {% for src_path in src_path_list %}
  <script type="text/javascript" src="{{ src_path }}"></script>
  {% endfor %}
  {% for lib_path in lib_path_list %}
  <script type="text/javascript" src="{{ src_path }}"></script>
  {% endfor %}
  <script type="text/javascript" src="/runner/jasmine_requirejs/require.js"></script>

  <script type="text/javascript">
// Stub out modal dialog alerts, which will prevent
// us from accessing the test results in the DOM
window.confirm = function(){return true;};
window.alert = function(){return;};

var runnerRequire = require.config({
    context: "runner",
    baseUrl: "/runner/jasmine_requirejs",
    shim: {
        "jasmine": {
            "exports": "jasmine"
        },
        "jasmine-html": {
            "deps": ["jasmine"]
        },
        "boot": {
            "deps": ["jasmine"]
        },
        "jasmine-json": {
            "deps": ["jasmine"]
        },
        "jasmine-jquery": {
            "deps": ["jasmine", "jquery"]
        }
    }
});
var specRequire = require.config({
    baseUrl: "/suite/{{ suite_name }}/include{{ requirejs_baseUrl }}",
    {% if requirejs_path_map %}
    paths: {{ requirejs_path_map|tojson }}
    {% endif %}
});

{% set report_type = "html" if dev_mode else "json" %}
  </script>

</head>

<body>
    {% if not dev_mode %}
    <div style="display:none" id="{{ results_div_id }}"></div>
    <div style="display:none" id="{{ error_div_id }}"></div>
    {% endif %}
    <div id="running_msg">Running Jasmine test suite...</div>
</body>
</html>
